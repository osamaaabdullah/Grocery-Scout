
# ğŸ›’ Grocery-Scout

  

## ğŸ“„Table of Contents

- [Overview](#overview)
- [Prerequisites](#prerequisites)
	- [Installation](#installation)
- [Tech Stack](#tech-stack)
- [Development](#development)
	- [Project Structure](#project-structure)
	- [Database Management](#database-management)
	- [Running Tests](#running-tests)
- [API Features](#api-features)
- [Future Enhancements](#future-enhancements)
- [Contributing](#contributing)

## Overview

Grocery Scout is a web appplication that scrapes product details from Canadian Grocery chain and compares similar products to help you make the most rational choices in your day to day grocery shopping.

## Prerequisites

- Python 3.10+
- Poetry (for Dependency Management)
### Installation
1. **Install dependencies:**
   ```bash
   poetry install
   ```

2. **Run the application:**
   ```bash
   poetry run uvicorn app.main:app --reload
   ```

3. **Access the application:**
   - **Web App**: http://localhost:8000/app
   - **API Documentation**: http://localhost:8000/docs
   - **Alternative API Docs**: http://localhost:8000/redoc
## âš™ï¸Techstack

-  **Backend:** Python (FastAPI)

-  **Database:** PostgreSQL (SQLAlchemy ORM)

-  **Frontend:** Next.js

-  **Testing:** Pytest / Unittest

-  **Other Tools:** Alembic for migrations, Docker

## ğŸ› ï¸ Development
### Project Structure
```
grocery-scout/
â”œâ”€â”€ alembic/									# Database migrations
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ models/
â”‚       â”œâ”€â”€ __init__.py				
â”‚       â”œâ”€â”€ metro_cookie.py	 	# Metro Cookie SQLAlchemy model
â”‚       â”œâ”€â”€ province_price.py 	# Province Price SQLAlchemy model
â”‚       â””â”€â”€ store_product.py	# Store, Product, and Price SQLAlchemy model
â”‚   â”œâ”€â”€ routers/
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ prices.py			# Prices endpoints
â”‚       â”œâ”€â”€ products.py			# Products endpoints
â”‚       â”œâ”€â”€ province_price.py   # Province prices endpoints
â”‚       â””â”€â”€ stores.py      		# Store endpoints
â”‚   â”œâ”€â”€ schemas/
â”‚       â”œâ”€â”€ metro_cookie.py		# Metro cookie pydantic schemas
â”‚       â”œâ”€â”€ province_price.py 	#	Province price pydantic schemas
â”‚       â””â”€â”€ store_product.py	# Store, Product, and Price pydantic schemas
â”‚   â”œâ”€â”€ services/
â”‚       â”œâ”€â”€ cookies.py			# Metro cookies db operations
â”‚       â”œâ”€â”€ geocode.py			# Geocode db operations
â”‚       â”œâ”€â”€ prices.py			# Prices db operations
â”‚       â”œâ”€â”€ products.py			# Products db operations
â”‚       â”œâ”€â”€ province_prices.py	# Province prices db operations
â”‚       â””â”€â”€ stores.py			# Stores db operations
â”‚   â””â”€â”€ tests/
â”‚       â”œâ”€â”€ routers/ 
â”‚       â”œâ”€â”€ services/
â”‚           â”œâ”€â”€ test_products.py # Products db operations unit tests
â”‚           â”œâ”€â”€ test_stores.py 	# Stores db operations unit tests
â”‚       â”œâ”€â”€ __init__.py
â”‚       â””â”€â”€ test_main.py		# Root integration test
â”‚        
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py              	# FastAPI application
â”‚   â”œâ”€â”€ database.py          	# Database configuration
â”œâ”€â”€ frontend/   
â”œâ”€â”€ scrapers/
â”‚   â”œâ”€â”€ loblaw
â”‚       â”œâ”€â”€ config.py 			# Scraper configuration
â”‚       â”œâ”€â”€ product_scraper.py 	# Product scraper
â”‚       â”œâ”€â”€ store_info_scraper.py # Store scraper
â”‚   â”œâ”€â”€ metro
â”‚       â”œâ”€â”€ config.py 			# Scraper configuration
â”‚       â”œâ”€â”€ cookie_collector.py # Scrape cookies 
â”‚       â”œâ”€â”€ product_scraper.py 	#	Product scraper
â”‚       â”œâ”€â”€ store_info_scraper.py # Store scraper
â”‚   â”œâ”€â”€ urban fare
â”‚   â”œâ”€â”€ walmart
â”‚       â”œâ”€â”€ scraper/
â”‚       		â”œâ”€â”€ __init__.py
â”‚       		â”œâ”€â”€ main.py		# Scrape script
â”‚       		â”œâ”€â”€ parsers.py	# Parse data
â”‚       		â”œâ”€â”€ requests.py	# Get request
â”‚       		â”œâ”€â”€ savers.py	# Save data 
â”‚       		â”œâ”€â”€ scrapers.py	# Scrape categories and pages
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ config.py 			# Scraper configuration
â”‚       â”œâ”€â”€ cookie_generator.py # Generate walmart cookie for scraping
â”‚       â”œâ”€â”€ store_id_scraper.py # Scrape all walmart store Ids
â”‚   â”œâ”€â”€ db_writer.py			# Save store info to API
â”œâ”€â”€ pyproject.toml           # Poetry configuration
â””â”€â”€ README.md
```
### Database Management

**Create a new migration:**
```bash
poetry run alembic revision --autogenerate -m "Description of changes"
```

**Apply migrations:**
```bash
poetry run alembic upgrade head
```
### Running Tests
```bash
poetry run pytest
```
## ğŸ¯ API Features

- **Validation**: Comprehensive input validation using Pydantic
- **Error Handling**: Proper HTTP status codes and error messages
- **Documentation**: Automatic API documentation with Swagger UI
- **CORS**: Configured for cross-origin requests
- **Search**: Full-text search across product names and categories
- **Filtering**: Filter products by store, category, price range

## ğŸš€ Future Enhancements

- [ ] User authentication and favorites
- [ ] Price history tracking
- [ ] Email price alerts
- [ ] Shopping list features
- [ ] Mobile app
- [ ] Real-time price updates

## ğŸ¤ Contributing

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Add tests if applicable
5. Submit a pull request
